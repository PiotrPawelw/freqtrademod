import{f as B,u as $,o,c as p,x as n,A as t,n as c,cb as V,cc as F,m as w,h as G,j as L,ay as W,cd as E,k as H,ax as J,ce as P,as as R,cf as U,I as y,J as k,s as S,v as C,z as x,d as h,M as q,H as K}from"./index-BNCVPFy5.js";const Q=["value","disabled"],I=B({__name:"BFormSelectOption",props:{disabled:{type:Boolean,default:!1},value:{default:void 0}},setup(i){const s=$(i,"BFormSelectOption");return(e,u)=>(o(),p("option",{value:t(s).value,disabled:t(s).disabled},[n(e.$slots,"default")],8,Q))}}),M=(i,m)=>{const s=l=>typeof l=="object"&&l!==null&&"label"in l,e=l=>{const a=V(m);if(typeof l=="string")return{value:l,text:l};if(typeof l=="number")return{value:l,text:`${l}`};if(l instanceof Date)return{value:l,text:l.toLocaleString()};const f=F(l,a.valueField),v=F(l,a.textField),z=F(l,a.disabledField),_=a.optionsField?F(l,a.optionsField):void 0;return _!==void 0?{label:F(l,a.labelField)||v,options:_}:{...typeof l=="object"?l:void 0,value:f,text:v,disabled:z}},u=l=>l.map(a=>e(a));return{normalizedOptions:c(()=>u(V(i))),isComplex:s}},X=["label"],Y=B({__name:"BFormSelectOptionGroup",props:{disabledField:{default:"disabled"},label:{default:void 0},options:{default:()=>[]},textField:{default:"text"},valueField:{default:"value"}},setup(i){const s=$(i,"BFormSelectOptionGroup"),{normalizedOptions:e}=M(()=>s.options,s),u=c(()=>e.value);return(r,l)=>(o(),p("optgroup",{label:t(s).label},[n(r.$slots,"first"),(o(!0),p(y,null,k(u.value,(a,f)=>(o(),S(I,x({key:f,disabled:a.disabled,value:a.value,ref_for:!0},r.$attrs),{default:C(()=>[n(r.$slots,"option",x({ref_for:!0},a),()=>[h(q(a.text),1)])]),_:2},1040,["disabled","value"]))),128)),n(r.$slots,"default")],8,X))}}),Z=["id","name","form","multiple","size","disabled","required","aria-required","aria-invalid"],le=B({__name:"BFormSelect",props:w({ariaInvalid:{type:[Boolean,String],default:void 0},autofocus:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1},disabledField:{default:"disabled"},form:{default:void 0},id:{default:void 0},labelField:{default:"label"},multiple:{type:Boolean,default:!1},name:{default:void 0},options:{default:()=>[]},optionsField:{default:"options"},plain:{type:Boolean,default:!1},required:{type:Boolean,default:!1},selectSize:{default:0},size:{default:"md"},state:{type:[Boolean,null],default:null},textField:{default:"text"},valueField:{default:"value"}},{modelValue:{default:""},modelModifiers:{}}),emits:["update:modelValue"],setup(i,{expose:m}){const e=$(i,"BFormSelect"),u=G(i,"modelValue"),r=L(()=>e.id,"input"),l=W(()=>e.selectSize),a=E(()=>e.state),f=H("_input"),{focused:v}=J(f,{initialValue:e.autofocus}),z=c(()=>[a.value,{"form-control":e.plain,[`form-control-${e.size}`]:e.size!=="md"&&e.plain,"form-select":!e.plain,[`form-select-${e.size}`]:e.size!=="md"&&!e.plain}]),_=c(()=>l.value||e.plain?l.value:void 0),D=P(()=>e.ariaInvalid,()=>e.state),{normalizedOptions:j,isComplex:A}=M(()=>e.options,e),N=c(()=>j.value),O=c({get:()=>u.value,set:b=>{u.value=b}});return m({blur:()=>{v.value=!1},element:f,focus:()=>{v.value=!0}}),(b,g)=>R((o(),p("select",{id:t(r),ref:"_input","onUpdate:modelValue":g[0]||(g[0]=d=>O.value=d),class:K(z.value),name:t(e).name,form:t(e).form||void 0,multiple:t(e).multiple||void 0,size:_.value,disabled:t(e).disabled,required:t(e).required||void 0,"aria-required":t(e).required||void 0,"aria-invalid":t(D)},[n(b.$slots,"first"),(o(!0),p(y,null,k(N.value,(d,T)=>(o(),p(y,{key:T},[t(A)(d)?(o(),S(Y,{key:0,label:d.label,options:d.options,"value-field":t(e).valueField,"text-field":t(e).textField,"disabled-field":t(e).disabledField},null,8,["label","options","value-field","text-field","disabled-field"])):(o(),S(I,{key:1,value:d.value,disabled:d.disabled},{default:C(()=>[n(b.$slots,"option",x({ref_for:!0},d),()=>[h(q(d.text),1)])]),_:2},1032,["value","disabled"]))],64))),128)),n(b.$slots,"default")],10,Z)),[[U,O.value]])}});export{le as _};
//# sourceMappingURL=BFormSelect.vue_vue_type_script_setup_true_lang-BigptVap-B6WFEx4U.js.map
