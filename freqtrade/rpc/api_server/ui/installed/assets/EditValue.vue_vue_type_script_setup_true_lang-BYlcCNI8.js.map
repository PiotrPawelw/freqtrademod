{"version":3,"file":"EditValue.vue_vue_type_script_setup_true_lang-BYlcCNI8.js","sources":["../../node_modules/.pnpm/bootstrap-vue-next@0.26.18_@vueuse+core@12.2.0_typescript@5.7.2__vue-router@4.5.0_vue@3.5.13__zg2puhuxad52i6hqc3jt6cvlpe/node_modules/bootstrap-vue-next/dist/BInputGroupText.vue_vue_type_script_setup_true_lang-C3oeIi3U.mjs","../../src/components/general/EditValue.vue"],"sourcesContent":["import { defineComponent, provide, computed, openBlock, createBlock, resolveDynamicComponent, unref, normalizeClass, withCtx, renderSlot, createElementBlock, createElementVNode, toDisplayString, createCommentVNode, createTextVNode } from \"vue\";\nimport { u as useDefaults } from \"./useDefaults-BTLXvYhO.mjs\";\nimport { l as inputGroupKey } from \"./keys-41Cw9q6f.mjs\";\nconst _hoisted_1 = {\n  key: 0,\n  class: \"input-group-text\"\n};\nconst _hoisted_2 = {\n  key: 0,\n  class: \"input-group-text\"\n};\nconst _sfc_main$1 = /* @__PURE__ */ defineComponent({\n  __name: \"BInputGroup\",\n  props: {\n    append: { default: void 0 },\n    id: { default: void 0 },\n    prepend: { default: void 0 },\n    size: { default: \"md\" },\n    tag: { default: \"div\" }\n  },\n  setup(__props) {\n    provide(inputGroupKey, true);\n    const _props = __props;\n    const props = useDefaults(_props, \"BInputGroup\");\n    const computedClasses = computed(() => ({\n      [`input-group-${props.size}`]: props.size !== \"md\"\n    }));\n    const hasAppend = computed(() => !!props.append);\n    const hasPrepend = computed(() => !!props.prepend);\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(resolveDynamicComponent(unref(props).tag), {\n        id: unref(props).id,\n        class: normalizeClass([\"input-group\", computedClasses.value]),\n        role: \"group\"\n      }, {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"prepend\", {}, () => [\n            hasPrepend.value ? (openBlock(), createElementBlock(\"span\", _hoisted_1, [\n              createElementVNode(\"span\", null, toDisplayString(unref(props).prepend), 1)\n            ])) : createCommentVNode(\"\", true)\n          ]),\n          renderSlot(_ctx.$slots, \"default\"),\n          renderSlot(_ctx.$slots, \"append\", {}, () => [\n            hasAppend.value ? (openBlock(), createElementBlock(\"span\", _hoisted_2, [\n              createElementVNode(\"span\", null, toDisplayString(unref(props).append), 1)\n            ])) : createCommentVNode(\"\", true)\n          ])\n        ]),\n        _: 3\n      }, 8, [\"id\", \"class\"]);\n    };\n  }\n});\nconst _sfc_main = /* @__PURE__ */ defineComponent({\n  __name: \"BInputGroupText\",\n  props: {\n    tag: { default: \"div\" },\n    text: { default: void 0 }\n  },\n  setup(__props) {\n    const _props = __props;\n    const props = useDefaults(_props, \"BInputGroupText\");\n    return (_ctx, _cache) => {\n      return openBlock(), createBlock(resolveDynamicComponent(unref(props).tag), { class: \"input-group-text\" }, {\n        default: withCtx(() => [\n          renderSlot(_ctx.$slots, \"default\", {}, () => [\n            createTextVNode(toDisplayString(unref(props).text), 1)\n          ])\n        ]),\n        _: 3\n      });\n    };\n  }\n});\nexport {\n  _sfc_main$1 as _,\n  _sfc_main as a\n};\n//# sourceMappingURL=BInputGroupText.vue_vue_type_script_setup_true_lang-C3oeIi3U.mjs.map\n","<script setup lang=\"ts\">\nconst props = defineProps({\n  modelValue: {\n    type: String,\n    required: true,\n  },\n  allowEdit: {\n    type: Boolean,\n    default: false,\n  },\n  allowAdd: {\n    type: Boolean,\n    default: false,\n  },\n  allowDuplicate: {\n    type: Boolean,\n    default: false,\n  },\n  editableName: {\n    type: String,\n    required: true,\n  },\n  alignVertical: {\n    type: Boolean,\n    default: false,\n  },\n});\n\nconst emit = defineEmits<{\n  delete: [value: string];\n  new: [value: string];\n  duplicate: [oldName: string, newName: string];\n  rename: [oldName: string, newName: string];\n}>();\n\nenum EditState {\n  None,\n  Editing,\n  Adding,\n  Duplicating,\n}\n\nconst localName = ref<string>('');\nconst mode = ref<EditState>(EditState.None);\nonMounted(() => {\n  localName.value = props.modelValue;\n});\n\nfunction abort() {\n  mode.value = EditState.None;\n  localName.value = props.modelValue;\n}\n\nfunction duplicate() {\n  localName.value = localName.value + ' (copy)';\n  mode.value = EditState.Duplicating;\n}\n\nfunction addNewClick() {\n  localName.value = '';\n  mode.value = EditState.Adding;\n}\n\nwatch(\n  () => props.modelValue,\n  () => {\n    localName.value = props.modelValue;\n  },\n);\n\nfunction saveNewName() {\n  if (mode.value === EditState.Adding) {\n    emit('new', localName.value);\n  } else if (mode.value === EditState.Duplicating) {\n    emit('duplicate', props.modelValue, localName.value);\n  } else {\n    // Editing\n    emit('rename', props.modelValue, localName.value);\n  }\n  mode.value = EditState.None;\n}\n</script>\n\n<template>\n  <form class=\"d-flex flex-row\" @submit.prevent=\"saveNewName\">\n    <div class=\"flex-grow-1\">\n      <slot v-if=\"mode === EditState.None\"> </slot>\n      <BFormInput v-else v-model=\"localName\" size=\"sm\"> </BFormInput>\n    </div>\n    <div\n      class=\"flex-grow-2 mt-auto d-flex gap-1 ms-1\"\n      :class=\"alignVertical ? 'flex-column' : 'flex-row'\"\n    >\n      <template v-if=\"allowEdit && mode === EditState.None\">\n        <BButton\n          size=\"sm\"\n          variant=\"secondary\"\n          :title=\"`Edit this ${editableName}.`\"\n          @click=\"mode = EditState.Editing\"\n        >\n          <i-mdi-pencil />\n        </BButton>\n        <BButton\n          v-if=\"allowDuplicate\"\n          size=\"sm\"\n          variant=\"secondary\"\n          :title=\"`Duplicate ${editableName}.`\"\n          @click=\"duplicate\"\n        >\n          <i-mdi-content-copy />\n        </BButton>\n        <BButton\n          size=\"sm\"\n          variant=\"secondary\"\n          :title=\"`Delete this ${editableName}.`\"\n          @click=\"$emit('delete', modelValue)\"\n        >\n          <i-mdi-delete />\n        </BButton>\n      </template>\n      <BButton\n        v-if=\"allowAdd && mode === EditState.None\"\n        size=\"sm\"\n        :title=\"`Add new ${editableName}.`\"\n        variant=\"primary\"\n        @click=\"addNewClick\"\n        ><i-mdi-plus-box-outline />\n      </BButton>\n      <template v-if=\"mode !== EditState.None\">\n        <BButton\n          size=\"sm\"\n          :title=\"`Add new ${editableName}`\"\n          variant=\"primary\"\n          @click=\"saveNewName\"\n        >\n          <i-mdi-check />\n        </BButton>\n        <BButton size=\"sm\" title=\"Abort\" variant=\"secondary\" @click=\"abort\">\n          <i-mdi-close />\n        </BButton>\n      </template>\n    </div>\n  </form>\n</template>\n"],"names":["_hoisted_1","_hoisted_2","_sfc_main$1","defineComponent","__props","provide","inputGroupKey","props","useDefaults","computedClasses","computed","hasAppend","hasPrepend","_ctx","_cache","openBlock","createBlock","resolveDynamicComponent","unref","normalizeClass","withCtx","renderSlot","createElementBlock","createElementVNode","toDisplayString","createCommentVNode","emit","__emit","localName","ref","mode","onMounted","abort","duplicate","addNewClick","watch","saveNewName"],"mappings":"sSAGA,MAAMA,EAAa,CACjB,IAAK,EACL,MAAO,kBACT,EACMC,EAAa,CACjB,IAAK,EACL,MAAO,kBACT,EACMC,GAA8BC,EAAgB,CAClD,OAAQ,cACR,MAAO,CACL,OAAQ,CAAE,QAAS,MAAQ,EAC3B,GAAI,CAAE,QAAS,MAAQ,EACvB,QAAS,CAAE,QAAS,MAAQ,EAC5B,KAAM,CAAE,QAAS,IAAM,EACvB,IAAK,CAAE,QAAS,KAAO,CACxB,EACD,MAAMC,EAAS,CACbC,EAAQC,EAAe,EAAI,EAE3B,MAAMC,EAAQC,EADCJ,EACmB,aAAa,EACzCK,EAAkBC,EAAS,KAAO,CACtC,CAAC,eAAeH,EAAM,IAAI,EAAE,EAAGA,EAAM,OAAS,IAC/C,EAAC,EACII,EAAYD,EAAS,IAAM,CAAC,CAACH,EAAM,MAAM,EACzCK,EAAaF,EAAS,IAAM,CAAC,CAACH,EAAM,OAAO,EACjD,MAAO,CAACM,EAAMC,KACLC,EAAW,EAAEC,EAAYC,EAAwBC,EAAMX,CAAK,EAAE,GAAG,EAAG,CACzE,GAAIW,EAAMX,CAAK,EAAE,GACjB,MAAOY,EAAe,CAAC,cAAeV,EAAgB,KAAK,CAAC,EAC5D,KAAM,OACd,EAAS,CACD,QAASW,EAAQ,IAAM,CACrBC,EAAWR,EAAK,OAAQ,UAAW,CAAE,EAAE,IAAM,CAC3CD,EAAW,OAASG,EAAS,EAAIO,EAAmB,OAAQtB,EAAY,CACtEuB,EAAmB,OAAQ,KAAMC,EAAgBN,EAAMX,CAAK,EAAE,OAAO,EAAG,CAAC,CACvF,CAAa,GAAKkB,EAAmB,GAAI,EAAI,CAC7C,CAAW,EACDJ,EAAWR,EAAK,OAAQ,SAAS,EACjCQ,EAAWR,EAAK,OAAQ,SAAU,CAAE,EAAE,IAAM,CAC1CF,EAAU,OAASI,EAAS,EAAIO,EAAmB,OAAQrB,EAAY,CACrEsB,EAAmB,OAAQ,KAAMC,EAAgBN,EAAMX,CAAK,EAAE,MAAM,EAAG,CAAC,CACtF,CAAa,GAAKkB,EAAmB,GAAI,EAAI,CAC7C,CAAW,CACX,CAAS,EACD,EAAG,CACJ,EAAE,EAAG,CAAC,KAAM,OAAO,CAAC,EAExB,CACH,CAAC,2pBCnDD,MAAMlB,EAAQH,EA2BRsB,EAAOC,EAcPC,EAAYC,EAAY,EAAE,EAC1BC,EAAOD,EAAe,GAC5BE,EAAU,IAAM,CACdH,EAAU,MAAQrB,EAAM,UAAA,CACzB,EAED,SAASyB,GAAQ,CACfF,EAAK,MAAQ,EACbF,EAAU,MAAQrB,EAAM,UAC1B,CAEA,SAAS0B,GAAY,CACTL,EAAA,MAAQA,EAAU,MAAQ,UACpCE,EAAK,MAAQ,CACf,CAEA,SAASI,GAAc,CACrBN,EAAU,MAAQ,GAClBE,EAAK,MAAQ,CACf,CAEAK,EACE,IAAM5B,EAAM,WACZ,IAAM,CACJqB,EAAU,MAAQrB,EAAM,UAC1B,CAAA,EAGF,SAAS6B,GAAc,CACjBN,EAAK,QAAU,EACZJ,EAAA,MAAOE,EAAU,KAAK,EAClBE,EAAK,QAAU,EACxBJ,EAAK,YAAanB,EAAM,WAAYqB,EAAU,KAAK,EAGnDF,EAAK,SAAUnB,EAAM,WAAYqB,EAAU,KAAK,EAElDE,EAAK,MAAQ,CACf","x_google_ignoreList":[0]}
